<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE datasources
    PUBLIC "-//JBoss//DTD JBOSS JCA Config 1.5//EN"
    "http://www.jboss.org/j2ee/dtd/jboss-ds_1_5.dtd">

<datasources>

	<local-tx-datasource>
		<jndi-name>fliesDatasource</jndi-name>
		<connection-url>jdbc:mysql://localhost:3306/flies?useUnicode=true&amp;characterEncoding=UTF-8</connection-url>
      <driver-class>com.mysql.jdbc.Driver</driver-class>
      <user-name>root</user-name>
      <password></password>
      
        <min-pool-size>20</min-pool-size>

        <!-- Make sure your MySQL config has that many max_connections!
             This is the max_threads in default Tomcat server.xml on JBoss AS. -->
        <max-pool-size>250</max-pool-size>

        <blocking-timeout-millis>5000</blocking-timeout-millis>

        <!-- Needs to be smaller than wait_timeout (which is in seconds) in /etc/my.cnf! -->
        <idle-timeout-minutes>2</idle-timeout-minutes>

        <!-- These are the secret ingredients that make it stable! A simple check-valid-connection-sql won't be enough! -->
        <exception-sorter-class-name>com.mysql.jdbc.integration.jboss.ExtendedMysqlExceptionSorter</exception-sorter-class-name>
        <valid-connection-checker-class-name>com.mysql.jdbc.integration.jboss.MysqlValidConnectionChecker</valid-connection-checker-class-name>

<!-- 
      <exception-sorter-class-name>
         org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter
      </exception-sorter-class-name>
      <metadata>
         <type-mapping>mySQL</type-mapping>
      </metadata>
-->
   </local-tx-datasource>
    
</datasources>

