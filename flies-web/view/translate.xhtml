<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:flies="http://flies.fedorahosted.org/ui"
    xmlns:a4j="http://richfaces.org/a4j"
    template="layout/template.xhtml">
    <ui:define name="left_content">

      <rich:panel>
        <f:facet name="header">Project Tree</f:facet>
        <h:form>
		    <rich:dataTable width="150px" value="#{documentTargets}" var="doc" rows="15" reRender="ds">
		      <rich:column>
		      	<a4j:commandLink reRender="xxx,textUnitTable" action="#{translateAction.selectDocumentTarget}">
		      		<s:conversationId name="wid"/>
                	<h:outputText value="#{doc.template.name}" /> 
            	</a4j:commandLink>
		      </rich:column>
              <f:facet name="footer">
                <rich:datascroller id="ds" rendered="#{documentTargets.size > 50}"></rich:datascroller>
              </f:facet>
		    </rich:dataTable>
        </h:form>
      </rich:panel>

      <rich:panel>
        <f:facet name="header">Translators online</f:facet>
        There are no translators in this workspace
      </rich:panel>
      
    </ui:define>
    <ui:define name="right_content">
      <rich:panel>
        <f:facet name="header">Terminology</f:facet>
        (Show Relevant Terminology here)
      </rich:panel>
      <rich:panel>
        <f:facet name="header">Chat</f:facet>
        Chat..
        <ui:repeat value="#{translateAction.workspace.translators}" var="t">
         	#{t} 
        </ui:repeat>
        <s:span id="translationWidget" >#{selectedTextUnitTarget.content}</s:span>
      </rich:panel>
    </ui:define>    
    
    <ui:define name="center_content">
      <rich:jQuery selector="#tab_home" query="addClass('ui-tabs-selected')" />
      
      <h1><s:span id="xxx">${selectedDocumentTarget.template.name}</s:span></h1>

        <h:form>
		    <rich:dataTable id="textUnitTable" width="100%" value="#{textUnitTargets}" var="tut" rows="50" reRender="tuds">
		      <rich:column width="50%">
            	 
			      	<a4j:commandLink reRender="translationWidget" action="#{translateAction.selectTextUnitTarget}">
			      		<s:conversationId name="wid"/>
	                	<h:outputText value="#{tut.template.content}" /> 
	            	</a4j:commandLink>
		      </rich:column>
		      <rich:column width="50%">
            	 #{tut.content}
		      </rich:column>
              <f:facet name="footer">
                <rich:datascroller id="tuds" rendered="#{textUnitTargets}.size > 50}"></rich:datascroller>
              </f:facet>
		    </rich:dataTable>
        </h:form>

    </ui:define>
    
</ui:composition>
