<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:flies="http://flies.fedorahosted.org/ui"
    template="../layout/template.xhtml">

<ui:define name="center_content">
  <rich:jQuery selector="#tab_projects" query="addClass('ui-tabs-selected')" />

  <h1>#{targetHome.instance.project.name} : #{targetHome.instance.name}</h1>

  <s:formattedText id="project-long-description" value="#{targetHome.instance.project.longDescription}"></s:formattedText>
  <h:outputText value="#{targetHome.instance.project.shortDescription}" rendered="#{empty targetHome.instance.project.longDescription}"/>

  <h2>TEST</h2>
  <h2>END TEST</h2>

  <h:form>
    <div class="resource-by-category-panel">
      <div class="header">
        <h2 class="cat-documentation">Documentation</h2>
        <div class="status-bar">
          <flies:translation-status-bar translated="100" fuzzy="0" untranslated="23"/>
        </div>
        <div style="clear: both;"/>
      </div>
      <s:div styleClass="summary" rendered="#{not empty targetHome.instance.description}">
        #{targetHome.instance.description}
      </s:div>
      <div class="toolbar">
        <div class="actions">
          <s:link view="/home.xhtml">Translate</s:link> &nbsp;|&nbsp; 
          <s:link view="/home.xhtml">Download Archive</s:link> &nbsp;|&nbsp; 
          <s:link view="/home.xhtml">More...</s:link>
        </div>
        <div class="expand">
          #{targetHome.instance.documents.size} File(s) 
          <a href="#" id="aShowDiv" onclick="showDiv();hideShow();showHide();" title="Expand!">
            <h:graphicImage value="/img/expand.png"/>
          </a>
          <a href="#" id="aHideDiv" onclick="hideDiv();hideHide();showShow();" style="display:none;" title="Hide!">
            <h:graphicImage value="/img/collapse.png"/>
          </a>
        </div>
        <div style="clear: both;"/>
      </div>
      <rich:effect name="showHide"  for="aHideDiv"  type="Appear" params="delay:0.2,duration:0.4" />
      <rich:effect name="hideHide"  for="aHideDiv"  type="Fade" params="duration:0.2" />
      <rich:effect name="showShow"  for="aShowDiv"  type="Appear" params="delay:0.2,duration:0.4" />
      <rich:effect name="hideShow"  for="aShowDiv"  type="Fade" params="duration:0.2" />

      <rich:effect name="hideDiv" for="eContent" type="BlindUp" params="duration:0.2" />
      <rich:effect name="showDiv" for="eContent" type="BlindDown" params="duration:0.2" />
      <rich:panel id="eContent" styleClass="resources-panel" style="display:none;">
        
        <rich:dataTable value="#{targetHome.instance.documents}" 
          var="document" width="100%" rows="50" reRender="ds">
          <rich:column width="100%" sortBy="#{document.name}">
            <f:facet name="header">
              <h:outputText value="Name"/>
            </f:facet>
            <div class="resource-name">#{document.name}</div>
            <div style="clear:both"/>
            <div class="actions">
              <a href="#">Translate</a> <a href="#">Export</a> <a href="#">Download</a> <a href="#">More...</a> 
            </div>
            
          </rich:column>
          <rich:column>
            <f:facet name="header">
              <h:outputText value="Status"/>
            </f:facet>
            <flies:translation-status-bar translated="20"/>
          </rich:column>
          <f:facet name="footer">
            <rich:datascroller id="ds" rendered="#{targetHome.instance.documents.size > 50}"></rich:datascroller>
          </f:facet>
        </rich:dataTable>
      </rich:panel>
    </div>
  </h:form>
</ui:define>

</ui:composition>
